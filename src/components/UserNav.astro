---
import { getPublicAuthUser } from "../lib/publicAuth";

const user = getPublicAuthUser(Astro.request);
---

<nav class="flex items-center gap-4">
  {
    user ? (
      <div class="flex items-center gap-4">
        <span class="text-gray-700 font-semibold text-sm">
          👋 Hola, {user.username}
        </span>
        <a
          href="/my-favorites"
          class="text-gray-600 hover:text-slate-700 transition-colors text-sm"
        >
          ❤️ Favoritos
        </a>
        <a
          href="/my-list"
          class="text-gray-600 hover:text-slate-700 transition-colors text-sm"
        >
          🔖 Mi Lista
        </a>
        <a
          href="/logout"
          class="bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md text-sm font-medium transition-all hover:-translate-y-0.5"
        >
          Cerrar Sesión
        </a>
      </div>
    ) : (
      <div class="flex items-center gap-3">
        <a
          href="/register"
          class="text-gray-600 hover:text-slate-700 transition-colors text-sm font-medium px-3 py-1.5 rounded-md hover:bg-gray-100"
        >
          Registrarse
        </a>
        <a
          href="/user-login"
          class="bg-slate-700 hover:bg-slate-800 text-white px-3 py-1.5 rounded-md text-sm font-medium transition-all hover:-translate-y-0.5"
        >
          Iniciar Sesión
        </a>
      </div>
    )
  }
</nav>
